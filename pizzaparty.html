<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pizza Party - Play exciting games set in The Economy of Nothing universe!">
    <meta name="keywords" content="Pizza Party, Economy of Nothing, games, JavaScript, arcade">
    <meta name="author" content="The Economy of Nothing Team">
    <title>Pizza Party - Arcade Games</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        /* Add styles directly in the HTML for this example */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #222;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header, nav, footer {
            text-align: center;
            margin-bottom: 20px;
        }

        main {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #game-container {
            width: 360px; /* 9:16 ratio with height */
            height: 640px; /* 9:16 ratio */
            background: #000;
            border: 3px solid #fff;
            border-radius: 8px;
            overflow-y: auto; /* Enables scrolling */
            overflow-x: hidden;
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        #game-output {
            font-family: "Courier New", Courier, monospace;
            font-size: 14px;
            white-space: pre-wrap; /* Preserve newlines and wrapping */
            line-height: 1.5;
        }

        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background: #444;
            border: 1px solid #fff;
            border-radius: 5px;
            color: #fff;
        }

        button:hover {
            background: #666;
        }
    </style>
</head>
<body>
    <header>
        <h1>Pizza Party</h1>
        <p>Arcade Games in the Economy of Nothing Universe</p>
    </header>
    <nav>
        <a href="/index.html">Home</a>
        <a href="/episodes.html">Episodes</a>
        <a href="/codex.html">Codex</a>
        <a href="/people.html">People</a>
    </nav>
    <main>
        <h2>Play Distress Call Simulator</h2>
        <div id="game-container">
            <pre id="game-output"></pre>
        </div>
        <div>
            <button id="start-game">Start Mission</button>
            <button id="buy-fuel" disabled>Buy Fuel</button>
        </div>
    </main>
    <footer>
        <p>&copy; 56.009 Nothing Inc.</p>
        <p class="nostalgia-note">Best viewed on Netscape Navigator. Join our <a href="#">web ring</a>!</p>
        <p class="visitor-counter">You are visitor number: <span id="visitor-count">1</span></p>
    </footer>

    <script>
        // === Game Logic Here (use the previously shared JavaScript code) ===

        const output = document.getElementById('game-output');
        const startButton = document.getElementById('start-game');
        const buyFuelButton = document.getElementById('buy-fuel');

        // Game Variables
        let fuel, medicalKits, repairTools, credits;
        let distance, hazards, survivors, shipCondition;

        // Initialize Game Variables
        function initializeGame() {
            fuel = 10;
            medicalKits = 3;
            repairTools = 2;
            credits = 100;
            output.textContent = "Welcome to Distress Call Simulator!\nClick 'Start Mission' to begin!";
        }

        // Generate Mission
        function generateMission() {
            distance = Math.floor(Math.random() * 10) + 5; // Random distance (5-15)
            survivors = Math.floor(Math.random() * 5) + 1; // Random survivors (1-5)
            shipCondition = ["Critical", "Stable", "Damaged"][Math.floor(Math.random() * 3)];
            hazards = Array.from({ length: Math.floor(Math.random() * 3) }, () =>
                ["Asteroid", "Pirates"][Math.floor(Math.random() * 2)]
            );

            output.textContent += `\n\nNEW MISSION:\nA ship ${distance} units away needs help!\nSurvivors: ${survivors}\nShip Condition: ${shipCondition}\nHazards: ${hazards.length > 0 ? hazards.join(", ") : "None"}\nPotential Reward: ${survivors * 50} credits`;
        }

        // Stock Up on Fuel
        function buyFuel() {
            const fuelToBuy = prompt(`You have ${credits} credits.\nFuel costs 10 credits per unit.\nHow much fuel would you like to buy?`);
            const fuelCost = fuelToBuy * 10;

            if (fuelCost > credits) {
                output.textContent += "\nNot enough credits to buy that much fuel!";
            } else if (fuelToBuy <= 0 || isNaN(fuelToBuy)) {
                output.textContent += "\nInvalid input. No fuel purchased.";
            } else {
                credits -= fuelCost;
                fuel += parseInt(fuelToBuy, 10);
                output.textContent += `\nBought ${fuelToBuy} units of fuel for ${fuelCost} credits. Remaining credits: ${credits}`;
            }
        }

        // Travel Phase
        function travel() {
            for (let i = 0; i < distance; i++) {
                if (fuel <= 0) {
                    output.textContent += "\nYou ran out of fuel and failed the mission!";
                    return false;
                }
                fuel--;

                // Random Hazard Encounter
                if (hazards.length > 0 && Math.random() < 0.3) {
                    const hazard = hazards.pop();
                    output.textContent += `\nEncountered: ${hazard}`;
                    if (hazard === "Asteroid") {
                        if (repairTools > 0) {
                            repairTools--;
                            output.textContent += "\nUsed a repair tool to avoid damage.";
                        } else {
                            output.textContent += "\nNo repair tools! Suffered damage.";
                        }
                    } else if (hazard === "Pirates") {
                        credits -= 50;
                        output.textContent += "\nLost 50 credits to pirates.";
                    }
                }
            }
            output.textContent += "\nArrived at the distress signal!";
            return true;
        }

        // Rescue Phase
        function rescue() {
            output.textContent += "\nRESCUE PHASE:";
            if (shipCondition === "Critical" && repairTools > 0) {
                repairTools--;
                output.textContent += "\nRepaired the ship's critical systems.";
            } else if (shipCondition === "Critical") {
                output.textContent += "\nFailed to repair the ship. Survivors lost!";
                survivors = 0;
            }

            if (survivors > 0 && medicalKits >= survivors) {
                medicalKits -= survivors;
                output.textContent += `\nRescued all ${survivors} survivors!`;
            } else if (survivors > 0) {
                output.textContent += `\nNot enough medical kits! Only ${medicalKits} survivors rescued.`;
                survivors = medicalKits;
                medicalKits = 0;
            }

            const reward = survivors * 50;
            credits += reward;
            output.textContent += `\nMission Reward: ${reward} credits`;
        }

        // Main Game Loop
        function playGame() {
            buyFuelButton.disabled = false; // Allow buying fuel between missions
            generateMission();
            if (travel()) {
                rescue();
                output.textContent += `\n\nMISSION COMPLETE!\nRemaining Fuel: ${fuel}\nCredits: ${credits}`;
                if (fuel <= 0) {
                    output.textContent += "\nOut of fuel! Game Over.";
                    return;
                }
            }
        }

        // Event Listeners
        startButton.addEventListener('click', () => {
            playGame();
        });

        buyFuelButton.addEventListener('click', () => {
            buyFuel();
        });

        // Initialize Game on Load
        initializeGame();
    </script>
</body>
</html>
