<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pizza Party - Play exciting games set in The Economy of Nothing universe!">
    <meta name="keywords" content="Pizza Party, Economy of Nothing, games, JavaScript, arcade">
    <meta name="author" content="The Economy of Nothing Team">
    <title>Pizza Party - Arcade Games</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #222;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header, footer {
            text-align: center;
            margin-bottom: 20px;
        }

        main {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #game-container {
            width: 360px;
            height: 640px;
            background: #000;
            border: 3px solid #fff;
            border-radius: 8px;
            overflow-y: auto;
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        #game-output {
            font-family: "Courier New", Courier, monospace;
            font-size: 14px;
            white-space: pre-wrap;
            line-height: 1.5;
        }

        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background: #444;
            border: 1px solid #fff;
            border-radius: 5px;
            color: #fff;
        }

        button:hover {
            background: #666;
        }

        #missions {
            margin: 20px 0;
        }

        .mission-button {
            display: block;
            margin: 10px auto;
            width: 90%;
            background: #555;
        }

        #leaderboard {
            margin-top: 20px;
            width: 360px;
            background: #111;
            border: 3px solid #fff;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        #leaderboard h3 {
            margin: 0;
            text-align: center;
        }

        #leaderboard ul {
            list-style-type: none;
            padding: 0;
        }

        #leaderboard li {
            margin: 5px 0;
            font-family: "Courier New", Courier, monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Pizza Party</h1>
        <p>Arcade Games in the Economy of Nothing Universe</p>
    </header>
    <main>
        <h2>Play Distress Call Simulator</h2>
        <div id="game-container">
            <pre id="game-output">Welcome to Distress Call Simulator!</pre>
        </div>
        <div id="missions">
            <button id="mission-1" class="mission-button" disabled>Mission 1</button>
            <button id="mission-2" class="mission-button" disabled>Mission 2</button>
            <button id="mission-3" class="mission-button" disabled>Mission 3</button>
        </div>
        <div id="leaderboard">
            <h3>Leaderboard</h3>
            <ul id="leaderboard-stats">
                <li>Social Score: 0</li>
                <li>Missions Completed: 0</li>
                <li>Gross Credits: 0</li>
            </ul>
        </div>
    </main>
    <footer>
        <p>&copy; 56.009 Nothing Inc.</p>
        <p>Best viewed on Netscape Navigator.</p>
    </footer>

    <script>
        // === Game Variables ===
        const output = document.getElementById('game-output');
        const missionButtons = [
            document.getElementById('mission-1'),
            document.getElementById('mission-2'),
            document.getElementById('mission-3')
        ];
        const leaderboardStats = document.getElementById('leaderboard-stats');

        let fuel = 15, medicalKits = 5, credits = 50;
        let socialScore = 0, missionsCompleted = 0, grossCredits = 0;
        let missionOptions = [];
        let currentMission = null;

        // === Local Storage Leaderboard ===
        function loadLeaderboard() {
            const storedData = JSON.parse(localStorage.getItem('leaderboard')) || {
                socialScore: 0,
                missionsCompleted: 0,
                grossCredits: 0
            };
            socialScore = storedData.socialScore;
            missionsCompleted = storedData.missionsCompleted;
            grossCredits = storedData.grossCredits;
            updateLeaderboard();
        }

        function saveLeaderboard() {
            localStorage.setItem('leaderboard', JSON.stringify({
                socialScore,
                missionsCompleted,
                grossCredits
            }));
        }

        // === Update Leaderboard Display ===
        function updateLeaderboard() {
            leaderboardStats.innerHTML = `
                <li>Social Score: ${socialScore}</li>
                <li>Missions Completed: ${missionsCompleted}</li>
                <li>Gross Credits: ${grossCredits}</li>
            `;
        }

        // === Generate Missions ===
        function generateMissions() {
            missionOptions = [];
            for (let i = 0; i < 3; i++) {
                missionOptions.push({
                    distance: Math.floor(Math.random() * 10) + 5,
                    survivors: Math.floor(Math.random() * 5) + 1,
                    reward: Math.floor(Math.random() * 100) + 50
                });
            }
            updateMissionButtons();
        }

        function updateMissionButtons() {
            missionOptions.forEach((mission, index) => {
                missionButtons[index].disabled = false;
                missionButtons[index].textContent = `
Mission ${index + 1}: 
- Distance: ${mission.distance} 
- Survivors: ${mission.survivors} 
- Reward: ${mission.reward} credits
`;
            });
        }

        // === Select a Mission ===
        function selectMission(index) {
            currentMission = missionOptions[index];
            output.textContent = `You selected Mission ${index + 1}!\nStarting Mission...\n`;
            executeMission();
        }

        // === Execute Mission ===
        function executeMission() {
            if (currentMission.distance > fuel) {
                output.textContent += "Not enough fuel! Mission failed.";
                return;
            }
            fuel -= currentMission.distance;
            const survivorsSaved = Math.min(currentMission.survivors, medicalKits);
            medicalKits -= survivorsSaved;
            socialScore += survivorsSaved;
            missionsCompleted++;
            grossCredits += currentMission.reward;
            credits += currentMission.reward;
            output.textContent += `Mission Complete! Saved ${survivorsSaved} survivors.\nEarned ${currentMission.reward} credits.`;
            saveLeaderboard();
            updateLeaderboard();
            resetMissionButtons();
        }

        function resetMissionButtons() {
            missionButtons.forEach(button => {
                button.disabled = true;
                button.textContent = "Waiting for next mission...";
            });
            setTimeout(() => {
                generateMissions();
                output.textContent += "\nNew missions available! Select your next mission.";
            }, 2000);
        }

        // === Event Listeners ===
        missionButtons.forEach((button, index) => {
            button.addEventListener('click', () => selectMission(index));
        });

        // === Initialize Game ===
        loadLeaderboard();
        generateMissions();
    </script>
</body>
</html>
