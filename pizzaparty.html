<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pizza Party - Play exciting games set in The Economy of Nothing universe!">
    <meta name="keywords" content="Pizza Party, Economy of Nothing, games, JavaScript, arcade">
    <meta name="author" content="The Economy of Nothing Team">
    <title>Distress Call Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Pizza Party</h1>
        <p>Arcade Games in the Economy of Nothing Universe</p>
    </header>
    <main>
        <div id="gameCanvas" class="shared-box">
            <div id="game-container">
                <pre id="game-output">Welcome to Distress Call Simulator!</pre>
                <div id="missions">
                    <button id="mission-1" class="mission-button" disabled>Mission 1</button>
                    <button id="mission-2" class="mission-button" disabled>Mission 2</button>
                    <button id="mission-3" class="mission-button" disabled>Mission 3</button>
                </div>
                <div id="actions">
                    <button id="buy-fuel" class="game-option">Buy Fuel</button>
                </div>
                <div id="stats">
                    <h3>Your Stats</h3>
                    <ul id="player-stats">
                        <li>Fuel: 15</li>
                        <li>Medical Kits: 5</li>
                        <li>Credits: 50</li>
                        <li>Social Score: 0</li>
                        <li>Missions Completed: 0</li>
                        <li>Gross Credits: 0</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <p>&copy; 56.009 Nothing Inc.</p>
        <p>Best viewed on Netscape Navigator.</p>
    </footer>

    <script>
        // === Game Variables ===
        const output = document.getElementById('game-output');
        const missionButtons = [
            document.getElementById('mission-1'),
            document.getElementById('mission-2'),
            document.getElementById('mission-3')
        ];
        const buyFuelButton = document.getElementById('buy-fuel');
        const playerStats = document.getElementById('player-stats');

        let fuel = 15, medicalKits = 5, credits = 50;
        let socialScore = 0, missionsCompleted = 0, grossCredits = 0;
        let missionOptions = [];
        let currentMission = null;

        // === Update Player Stats Display ===
        function updatePlayerStats() {
            playerStats.innerHTML = `
                <li>Fuel: ${fuel}</li>
                <li>Medical Kits: ${medicalKits}</li>
                <li>Credits: ${credits}</li>
                <li>Social Score: ${socialScore}</li>
                <li>Missions Completed: ${missionsCompleted}</li>
                <li>Gross Credits: ${grossCredits}</li>
            `;
        }

        // === Generate Missions ===
        function generateMissions() {
            missionOptions = [];
            for (let i = 0; i < 3; i++) {
                missionOptions.push({
                    distance: Math.floor(Math.random() * 10) + 5,
                    survivors: Math.floor(Math.random() * 5) + 1,
                    reward: Math.floor(Math.random() * 100) + 50,
                    hazard: Math.random() < 0.5 ? "Asteroid Field" : "Pirates"
                });
            }
            updateMissionButtons();
        }

        function updateMissionButtons() {
            missionOptions.forEach((mission, index) => {
                missionButtons[index].disabled = false;
                missionButtons[index].textContent = `
Mission ${index + 1}: 
- Distance: ${mission.distance} 
- Survivors: ${mission.survivors} 
- Reward: ${mission.reward} credits
- Hazard: ${mission.hazard}
`;
            });
        }

        // === Select a Mission ===
        function selectMission(index) {
            currentMission = missionOptions[index];
            output.textContent += `\nYou selected Mission ${index + 1}.\n`;
            executeMission();
        }

        // === Execute Mission ===
        function executeMission() {
            if (currentMission.distance > fuel) {
                output.textContent += "Not enough fuel! Mission failed.\n";
                resetMissionButtons();
                return;
            }
            fuel -= currentMission.distance;

            // Handle Hazards
            if (currentMission.hazard === "Asteroid Field" && Math.random() < 0.5) {
                output.textContent += "Encountered an Asteroid Field! Lost 10 credits for emergency maneuvers.\n";
                credits -= 10;
            } else if (currentMission.hazard === "Pirates" && Math.random() < 0.5) {
                output.textContent += "Attacked by Pirates! Lost 1 medical kit.\n";
                if (medicalKits > 0) medicalKits--;
            }

            const survivorsSaved = Math.min(currentMission.survivors, medicalKits);
            medicalKits -= survivorsSaved;
            socialScore += survivorsSaved;
            missionsCompleted++;
            grossCredits += currentMission.reward;
            credits += currentMission.reward;

            output.textContent += `Mission Complete! Saved ${survivorsSaved} survivors.\nEarned ${currentMission.reward} credits.\n`;
            updatePlayerStats();
            resetMissionButtons();
        }

        function resetMissionButtons() {
            missionButtons.forEach(button => {
                button.disabled = true;
                button.textContent = "Waiting for next mission...";
            });
            setTimeout(() => {
                generateMissions();
                output.textContent += "\nNew missions available! Select your next mission.\n";
            }, 2000);
        }

        // === Buy Fuel ===
        buyFuelButton.addEventListener('click', () => {
            const fuelToBuy = parseInt(prompt("How many units of fuel would you like to buy? (10 credits per unit)"));
            if (!isNaN(fuelToBuy) && fuelToBuy > 0 && fuelToBuy * 10 <= credits) {
                fuel += fuelToBuy;
                credits -= fuelToBuy * 10;
                output.textContent += `Bought ${fuelToBuy} units of fuel for ${fuelToBuy * 10} credits.\n`;
                updatePlayerStats();
            } else {
                output.textContent += "Invalid purchase or insufficient credits.\n";
            }
        });

        // === Initialize Game ===
        function initializeGame() {
            updatePlayerStats();
            generateMissions();
        }

        missionButtons.forEach((button, index) => {
            button.addEventListener('click', () => selectMission(index));
        });

        initializeGame();
    </script>
</body>
</html>
